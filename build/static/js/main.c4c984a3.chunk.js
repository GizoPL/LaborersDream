(this["webpackJsonpinventory-app"]=this["webpackJsonpinventory-app"]||[]).push([[0],{69:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a.n(s),c=a(33),i=a.n(c),o=a(2),l=a(3),d=a(12),j=a(6),b=a(5),m=a(13),h=a(4),u={userLogged:{login:""},isUserLogged:!1,toggleLoggedState:function(){}},g=Object(s.createContext)(u),O=a(14),p=a.n(O),x="http://62.171.190.232:5000/users/",f=new(function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"login",value:function(e,t){return p.a.post(x+"authenticate",{login:e,password:t}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,a){return p.a.post(x+"signup",{username:e,email:t,password:a})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),v=a(34),N=a.n(v),w=a(20),y=a.n(w),k=a(35),S=a.n(k),C=function(e){if(!e)return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"To pole jest wymagane!"})},L=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(d.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(d.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(d.a)(n)),n.state={username:"",password:"",loading:!1,message:""},n}return Object(l.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?f.login(this.state.username,this.state.password).then((function(){t.props.history.push("/home"),window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:a})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("div",{className:"col-md-9 col-lg-12 col-xl-10",children:Object(n.jsx)("div",{className:"card shadow-lg o-hidden border-0 my-5",children:Object(n.jsx)("div",{className:"card-body p-0",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-6 d-none d-lg-flex blackback",children:Object(n.jsx)("div",{className:"flex-grow-1 bg-login-image",children:Object(n.jsx)("span",{className:"fslarge",children:"Marzenie laboranta"})})}),Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsxs)("div",{className:"p-5",children:[Object(n.jsx)("div",{className:"text-center",children:Object(n.jsxs)("h4",{className:"text-dark mb-4",children:[Object(n.jsx)("br",{}),"Logowanie do panelu!"]})}),Object(n.jsxs)(N.a,{className:"user",onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(y.a,{type:"text",className:"form-control form-control-user",name:"username",placeholder:"Podaj login...",value:this.state.username,onChange:this.onChangeUsername,validations:[C]})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(y.a,{type:"password",className:"form-control form-control-user",name:"password",placeholder:"...oraz has\u0142o",value:this.state.password,onChange:this.onChangePassword,validations:[C]})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("button",{className:"btn btn-primary btn-block text-white btn-user",disabled:this.state.loading,children:[this.state.loading&&Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{children:"Login"})]})}),this.state.message&&Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})}),Object(n.jsx)(S.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}),Object(n.jsx)("hr",{})]}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("a",{className:"small",href:"forgot-password.html",children:"Zapomnia\u0142e\u015b has\u0142a?"})}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("a",{className:"small",href:"register.html",children:"Stw\xf3rz konto!"})})]})})]})})})})})})})}}]),a}(s.Component),U=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("nav",{className:"navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0",children:Object(n.jsxs)("div",{className:"container-fluid d-flex flex-column p-0",children:[Object(n.jsxs)("a",{className:"navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0",href:"https://www.google.pl",children:[Object(n.jsx)("div",{className:"sidebar-brand-icon rotate-n-15",children:Object(n.jsx)("img",{className:"logoimg",src:"assets/img/logo.png",alt:"sd"})}),Object(n.jsx)("div",{className:"sidebar-brand-text mx-3",children:Object(n.jsx)("span",{children:"Marzenie Laboranta"})})]}),Object(n.jsx)("hr",{className:"sidebar-divider my-0"}),Object(n.jsxs)("ul",{className:"nav navbar-nav text-light",id:"accordionSidebar",children:[Object(n.jsx)("li",{className:"nav-item",role:"presentation",children:Object(n.jsxs)(m.b,{className:"nav-link",exact:!0,to:"/",children:[Object(n.jsx)("i",{className:"fas fa-home"}),Object(n.jsx)("span",{children:"Strona g\u0142\xf3wna"})]})}),Object(n.jsx)("li",{className:"nav-item",role:"presentation",children:Object(n.jsxs)(m.b,{className:"nav-link",to:"/tickets",children:[Object(n.jsx)("i",{className:"fas fa-user"}),Object(n.jsx)("span",{children:"System zg\u0142osze\u0144"})]})}),Object(n.jsx)("li",{className:"nav-item",role:"presentation",children:Object(n.jsxs)(m.b,{className:"nav-link",to:"/inventory",children:[Object(n.jsx)("i",{className:"fas fa-shopping-cart"}),Object(n.jsx)("span",{children:"Inwentarz"})]})}),Object(n.jsx)("li",{className:"nav-item",role:"presentation",children:Object(n.jsxs)(m.b,{className:"nav-link",to:"/check",children:[Object(n.jsx)("i",{className:"far fa-user-circle"}),Object(n.jsx)("span",{children:"Sprawd\u017a sprz\u0119t"})]})}),Object(n.jsx)("li",{className:"nav-item",role:"presentation",children:Object(n.jsxs)(m.b,{className:"nav-link",to:"/login",onClick:function(){f.logout(),window.location.reload()},children:[Object(n.jsx)("i",{className:"fas fa-user-circle"}),Object(n.jsx)("span",{children:"Wyloguj"})]})})]}),Object(n.jsx)("div",{className:"text-center d-none d-md-inline",children:Object(n.jsx)("button",{className:"btn rounded-circle border-0",id:"sidebarToggle",type:"button"})})]})})})}}]),a}(s.Component),A=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=f.getCurrentUser();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("nav",{className:"navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top",children:Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("button",{className:"btn btn-link d-md-none rounded-circle mr-3",id:"sidebarToggleTop",type:"button",children:Object(n.jsx)("i",{className:"fas fa-bars"})}),Object(n.jsx)("form",{className:"form-inline d-none d-sm-inline-block mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search",children:Object(n.jsxs)("div",{className:"input-group",children:[Object(n.jsx)("input",{className:"bg-light form-control border-0 small",type:"text",placeholder:"Search for ..."}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{className:"btn btn-primary py-0",type:"button",children:Object(n.jsx)("i",{className:"fas fa-search"})})})]})}),Object(n.jsxs)("ul",{className:"nav navbar-nav flex-nowrap ml-auto",children:[Object(n.jsxs)("li",{className:"nav-item dropdown d-sm-none no-arrow",children:[Object(n.jsx)("a",{className:"dropdown-toggle nav-link","data-toggle":"dropdown","aria-expanded":"false",href:"https://www.google.pl",children:Object(n.jsx)("i",{className:"fas fa-search"})}),Object(n.jsx)("div",{className:"dropdown-menu dropdown-menu-right p-3 animated--grow-in",role:"menu","aria-labelledby":"searchDropdown",children:Object(n.jsx)("form",{className:"form-inline mr-auto navbar-search w-100",children:Object(n.jsxs)("div",{className:"input-group",children:[Object(n.jsx)("input",{className:"bg-light form-control border-0 small",type:"text",placeholder:"Search for ..."}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{className:"btn btn-primary py-0",type:"button",children:Object(n.jsx)("i",{className:"fas fa-search"})})})]})})})]}),Object(n.jsx)("div",{className:"d-none d-sm-block topbar-divider"}),Object(n.jsx)("li",{className:"nav-item dropdown no-arrow",role:"presentation",children:Object(n.jsxs)("div",{className:"nav-item dropdown no-arrow",children:[Object(n.jsxs)("a",{className:"dropdown-toggle nav-link","data-toggle":"dropdown","aria-expanded":"false",href:"https://www.google.pl",children:[Object(n.jsxs)("span",{className:"d-none d-lg-inline mr-2 text-gray-600 small",children:["Zalogowany u\u017cytkownik:"," ",Object(n.jsx)("strong",{children:e.name+" "+e.surname}),2===e.role?Object(n.jsxs)(n.Fragment,{children:[" ","jako",Object(n.jsx)("strong",{children:" ADMINISTRATOR"})]}):""]}),Object(n.jsx)("img",{className:"border rounded-circle img-profile",src:"assets/img/avatars/avatar1.jpeg",alt:"Something"})]}),Object(n.jsxs)("div",{className:"dropdown-menu shadow dropdown-menu-right animated--grow-in",role:"menu",children:[Object(n.jsxs)("a",{className:"dropdown-item",role:"presentation",href:"https://www.google.pl",children:[Object(n.jsx)("i",{className:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"}),"\xa0Profile"]}),Object(n.jsxs)("a",{className:"dropdown-item",role:"presentation",href:"https://www.google.pl",children:[Object(n.jsx)("i",{className:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),"\xa0Settings"]}),Object(n.jsxs)("a",{className:"dropdown-item",role:"presentation",href:"https://www.google.pl",children:[Object(n.jsx)("i",{className:"fas fa-list fa-sm fa-fw mr-2 text-gray-400"}),"\xa0Activity log"]}),Object(n.jsx)("div",{className:"dropdown-divider"}),Object(n.jsxs)("a",{className:"dropdown-item",role:"presentation",href:"https://www.google.pl",children:[Object(n.jsx)("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"\xa0Logout"]})]})]})})]})]})})})}}]),a}(s.PureComponent);A.contextType=g;var I=A,P=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("footer",{className:"bg-white sticky-footer",children:Object(n.jsx)("div",{className:"container my-auto",children:Object(n.jsx)("div",{className:"text-center my-auto copyright",children:Object(n.jsx)("span",{children:"Copyright \xa9 FastSell - K.Szpak 2020"})})})})})}}]),a}(s.Component),F=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"Home Page"})}}]),a}(r.a.Component),z=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"Tickets Page"})}}]),a}(r.a.Component);function T(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var B="http://62.171.190.232:5000/",D=new(function(){function e(){Object(o.a)(this,e),this.serialcode="2981A03F-EE30-45DD-BEA6-4A1A8E1A7559"}return Object(l.a)(e,[{key:"getPublicContent",value:function(){return p.a.get(B+"all")}},{key:"getUserBoard",value:function(){return p.a.get(B+"user",{headers:T()})}},{key:"getModeratorBoard",value:function(){return p.a.get(B+"mod",{headers:T()})}},{key:"getAdminBoard",value:function(){return p.a.get(B+"admin",{headers:T()})}},{key:"getQRCodeInfo",value:function(){return p.a.get(B+"resources/qrdata/"+this.serialcode,{headers:T()})}}]),e}()),M=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={inventory:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;D.getQRCodeInfo().then((function(t){e.setState({inventory:t.data})}),(function(t){e.setState({inventory:t.response&&t.response.data||t.message||t.toString()})}))}},{key:"render",value:function(){var e=this.state.inventory;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Inventory Page"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:"ID: "}),Object(n.jsx)("b",{children:e.id})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:"Name: "}),Object(n.jsx)("b",{children:e.specification})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:"Series Number: "}),Object(n.jsx)("b",{children:e.seriesNumber})]})]})]})}}]),a}(r.a.Component),E=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"Check Page"})}}]),a}(r.a.Component),J=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{id:"wrapper",children:[Object(n.jsx)(U,{}),Object(n.jsxs)("div",{className:"d-flex flex-column",id:"content-wrapper",children:[Object(n.jsxs)("div",{id:"content",children:[Object(n.jsx)(I,{}),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)(h.a,{path:"/home",exact:!0,component:F}),Object(n.jsx)(h.a,{path:"/tickets",component:z}),Object(n.jsx)(h.a,{path:"/inventory",component:M}),Object(n.jsx)(h.a,{path:"/check",component:E})]})]}),Object(n.jsx)(P,{})]})]})})}}]),a}(s.Component),R=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).render=function(){var e=f.getCurrentUser(),t=g.Provider;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(t,{value:s.state,children:Object(n.jsx)(m.a,{children:Object(n.jsx)(h.c,{children:e?Object(n.jsx)(h.a,{to:"/",component:J}):Object(n.jsx)(h.a,{to:"/",exact:!0,component:L})})})})})},s.logOut=s.logOut.bind(Object(d.a)(s)),s.state={isUserLogged:!1,currentUser:{login:"Admin"},showAdminBoard:!1,toggleLoggedState:s.handleToggleStateIsLogged.bind(Object(d.a)(s))},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=f.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"logOut",value:function(){f.logout()}},{key:"handleToggleStateIsLogged",value:function(){this.setState((function(e){return{isUserLogged:!e.isUserLogged}}))}}]),a}(s.Component);i.a.render(Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(R,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.c4c984a3.chunk.js.map